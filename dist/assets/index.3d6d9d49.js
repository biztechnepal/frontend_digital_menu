import{j as e,a as N,r as o,u as E,b as F,F as B,R as y}from"./index.b706b227.js";import{G as I,E as A,I as z,c as H,u as b,P as G,S as R,F as T,M as k,a as U,b as V,d as j}from"./StickyHeader.0f8dfbbe.js";function W(a){return I({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"}}]})(a)}function Y(a){return I({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"}}]})(a)}function q({profile:a,style:t}){const{address:n,appSecret:l,city:i,companyBannerPath:h,companyLogoPath:u,contactPerson:p,country:s,email:L,id:S,mobile:d,name:x,panNo:g,pinNo:P,username:C,cover:O="/assets/banner.png"}=a;return e("div",{className:"header",children:e("div",{className:"container",children:e("div",{className:"row bgColor",children:N("div",{className:"col-lg-12 d-flex",children:[e("div",{className:"logo",children:e("img",{src:`http://52.221.216.231/${A.DOWNLOADCOMPANYLOGO}/${S}`,alt:"company-logo"})}),N("div",{className:"companyDetails",style:{...t,color:"#fff"},children:[e("h1",{style:{fontFamily:t.fontFmaily},children:x}),e("span",{children:d}),N("p",{children:[i," ",n,", ",s," "]})]})]})})})})}function J({title:a,style:t}){return e("div",{className:"menuTitle",children:e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("h2",{style:t,children:a})})})})}function K({style:a,isGridView:t,setIsGridView:n}){return e("div",{className:"viewModeIcos",children:e("div",{className:"container",children:e("div",{className:"row",children:e("div",{className:"col-lg-4 d-flex",children:t?e(z,{onClick:()=>n(!t),children:e(W,{color:a==null?void 0:a.color,size:22})}):e(z,{onClick:()=>n(!0),children:e(Y,{color:a==null?void 0:a.color,size:22})})})})})})}const Q=()=>{const[a,t]=o.exports.useState(!1),[n,l]=o.exports.useState(null),i=E();return{loading:a,data:n,getPopups:async()=>{t(!0);const u=await H(A.POPUPS).all(),{status:p,data:s}=u;p===200?l(s.data):i("/error"),t(!1)}}},X=()=>{const[a,t]=o.exports.useState(!1),[n,l]=o.exports.useState(null),i=E();return{loading:a,data:n,getAdvertise:async()=>{t(!0);const u=await H(A.ADVERTISE).all(),{status:p,data:s}=u;p===200?l(s.data):i("/error"),t(!1)}}};function ae(){var w,M,D;const[a,t]=o.exports.useState(""),[n,l]=o.exports.useState(!1);o.exports.useState("status"),o.exports.useState("asc");const[i,h]=o.exports.useState(!1),{getCompanyMenuOnly:u,loading:p,profile:s,menuData:L}=b(),{getPopups:S,data:d}=Q(),{getAdvertise:x,data:g}=X(),{search:P}=F(),C=new URLSearchParams(P).get("menu"),O=new URLSearchParams(P).get("company");o.exports.useState(0),o.exports.useEffect(()=>{S(),x()},[]),o.exports.useEffect(()=>{u({menuId:C,companyId:O})},[]),o.exports.useEffect(()=>{h(!0)},[]);const r=Z({data:L,name:a}),$=c=>{t(c)},v={color:(w=s==null?void 0:s.theme)==null?void 0:w.color,fontFamily:(M=s==null?void 0:s.theme)==null?void 0:M.font};return e(B,{children:N(G,{title:"Company Menu",sx:{backgroundColor:"#fdfdfd",fontFamily:(D=s==null?void 0:s.theme)==null?void 0:D.font},children:[s!==null&&e(q,{profile:s,style:v}),(g==null?void 0:g.length)>0&&g.map((c,m)=>{var f;return e(R,{image:`http://52.221.216.231/${A.DOWNLOADADSFILE}/${(f=c[0])==null?void 0:f.id}`})}),e(J,{title:"Our Menu",style:v}),e(T,{onHandleChange:$,filterName:a}),e(K,{isGridView:n,setIsGridView:l,style:v}),n&&(r==null?void 0:r.length)>0&&(r==null?void 0:r.map((c,m)=>e(y.Fragment,{children:e(k,{isGridView:n,menuItem:c,style:v},m)}))),!n&&(r==null?void 0:r.length)>0&&(r==null?void 0:r.map((c,m)=>e(y.Fragment,{children:e(U,{isGridView:!1,menuItem:c,style:v},m)}))),e(V,{}),i&&(d==null?void 0:d.length)>0&&d.map((c,m)=>{var f;return e(j,{url:`http://52.221.216.231/${A.DOWNLOADPOPUPSFILE}/${(f=c[3])==null?void 0:f.id}`,open:i,onClose:()=>h(!1)},m)})]})})}function Z({data:a,name:t}){return console.log("TABLE DATA",a),a==null||a.map((n,l)=>[n,l]),t&&(a=a.filter(n=>n.name.toLowerCase().indexOf(t.toLowerCase())!==-1)),a}export{ae as default};
