import{j as e,a as A,r as n,u as O,b as E,F as I,R as L}from"./index.380d89c5.js";import{G as w,E as f,I as C,c as M,u as H,P as $,S as B,F as b,M as F,a as G,b as R,d as T}from"./StickyHeader.7d928c7a.js";function k(a){return w({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"}}]})(a)}function U(a){return w({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"}}]})(a)}function V({profile:a}){const{address:t,appSecret:s,city:r,companyBannerPath:l,companyLogoPath:p,contactPerson:u,country:d,email:i,id:N,mobile:S,name:h,panNo:P,pinNo:g,username:x,cover:y="/assets/banner.png"}=a;return e("div",{className:"header",children:e("div",{className:"container",children:e("div",{className:"row bgColor",children:A("div",{className:"col-lg-12 d-flex",children:[e("div",{className:"logo",children:e("img",{src:`http://52.221.216.231/${f.DOWNLOADCOMPANYLOGO}/${N}`,alt:"company-logo"})}),A("div",{className:"companyDetails",style:{color:"#fff"},children:[e("h1",{children:h}),e("span",{children:S}),A("p",{children:[r," ",t,", ",d," "]})]})]})})})})}function j({title:a}){return e("div",{className:"menuTitle",children:e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("h2",{children:a})})})})}function W({isGridView:a,setIsGridView:t}){return e("div",{className:"viewModeIcos",children:e("div",{className:"container",children:e("div",{className:"row",children:e("div",{className:"col-lg-4 d-flex",children:a?e(C,{onClick:()=>t(!a),children:e(k,{color:"#F47A00",size:22})}):e(C,{onClick:()=>t(!0),children:e(U,{color:"#F47A00",size:22})})})})})})}const Y=()=>{const[a,t]=n.exports.useState(!1),[s,r]=n.exports.useState(null),l=O();return{loading:a,data:s,getPopups:async()=>{t(!0);const u=await M(f.POPUPS).all(),{status:d,data:i}=u;d===200?r(i.data):l("/error"),t(!1)}}},q=()=>{const[a,t]=n.exports.useState(!1),[s,r]=n.exports.useState(null),l=O();return{loading:a,data:s,getAdvertise:async()=>{t(!0);const u=await M(f.ADVERTISE).all(),{status:d,data:i}=u;d===200?r(i.data):l("/error"),t(!1)}}};function X(){const[a,t]=n.exports.useState(""),[s,r]=n.exports.useState(!1);n.exports.useState("status"),n.exports.useState("asc");const[l,p]=n.exports.useState(!1),{getCompanyMenuOnly:u,loading:d,profile:i,menuData:N}=H(),{getPopups:S,data:h}=Y(),{getAdvertise:P,data:g}=q(),{search:x}=E(),y=new URLSearchParams(x).get("menu"),D=new URLSearchParams(x).get("company");n.exports.useState(0),n.exports.useEffect(()=>{S(),P()},[]),n.exports.useEffect(()=>{u({menuId:y,companyId:D})},[]),n.exports.useEffect(()=>{p(!0)},[]);const o=J({data:N,name:a}),z=c=>{t(c)};return e(I,{children:A($,{title:"Company Menu",sx:{backgroundColor:"#fdfdfd"},children:[i!==null&&e(V,{profile:i}),(g==null?void 0:g.length)>0&&g.map((c,m)=>{var v;return e(B,{image:`http://52.221.216.231/${f.DOWNLOADADSFILE}/${(v=c[0])==null?void 0:v.id}`})}),e(j,{title:"Our Menu"}),e(b,{onHandleChange:z,filterName:a}),e(W,{isGridView:s,setIsGridView:r}),s&&(o==null?void 0:o.length)>0&&(o==null?void 0:o.map((c,m)=>e(L.Fragment,{children:e(F,{isGridView:s,menuItem:c},m)}))),!s&&(o==null?void 0:o.length)>0&&(o==null?void 0:o.map((c,m)=>e(L.Fragment,{children:e(G,{isGridView:!1,menuItem:c},m)}))),e(R,{}),l&&(h==null?void 0:h.length)>0&&h.map((c,m)=>{var v;return e(T,{url:`http://52.221.216.231/${f.DOWNLOADPOPUPSFILE}/${(v=c[3])==null?void 0:v.id}`,open:l,onClose:()=>p(!1)},m)})]})})}function J({data:a,name:t}){return console.log("TABLE DATA",a),a==null||a.map((s,r)=>[s,r]),t&&(a=a.filter(s=>s.name.toLowerCase().indexOf(t.toLowerCase())!==-1)),a}export{X as default};
