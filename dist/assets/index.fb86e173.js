import{j as e,a as N,r as n,u as D,b as H,F as $,R as w}from"./index.389bd83b.js";import{G as z,E as f,I as M,c as E,u as B,P as b,S as G,F as R,M as T,a as F,b as k,d as U}from"./StickyHeader.7e5b5b02.js";function V(a){return z({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"}}]})(a)}function j(a){return z({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"}}]})(a)}function W({profile:a}){const{address:t,appSecret:s,city:c,companyBannerPath:i,companyLogoPath:p,contactPerson:u,country:d,email:r,id:S,mobile:x,name:m,panNo:L,pinNo:g,username:P,cover:C="/assets/banner.png"}=a;return e("div",{className:"header",children:e("div",{className:"container",children:e("div",{className:"row bgColor",children:N("div",{className:"col-lg-12 d-flex",children:[e("div",{className:"logo",children:e("img",{src:`http://52.221.216.231/${f.DOWNLOADCOMPANYLOGO}/${S}`,alt:"company-logo"})}),N("div",{className:"companyDetails",style:{color:"#fff"},children:[e("h1",{children:m}),e("span",{children:x}),N("p",{children:[c," ",t,", ",d," "]})]})]})})})})}function Y({title:a,style:t}){return e("div",{className:"menuTitle",children:e("div",{className:"row",children:e("div",{className:"col-lg-12",children:e("h2",{style:t,children:a})})})})}function q({style:a,isGridView:t,setIsGridView:s}){return e("div",{className:"viewModeIcos",children:e("div",{className:"container",children:e("div",{className:"row",children:e("div",{className:"col-lg-4 d-flex",children:t?e(M,{onClick:()=>s(!t),children:e(V,{color:a==null?void 0:a.color,size:22})}):e(M,{onClick:()=>s(!0),children:e(j,{color:a==null?void 0:a.color,size:22})})})})})})}const J=()=>{const[a,t]=n.exports.useState(!1),[s,c]=n.exports.useState(null),i=D();return{loading:a,data:s,getPopups:async()=>{t(!0);const u=await E(f.POPUPS).all(),{status:d,data:r}=u;d===200?c(r.data):i("/error"),t(!1)}}},K=()=>{const[a,t]=n.exports.useState(!1),[s,c]=n.exports.useState(null),i=D();return{loading:a,data:s,getAdvertise:async()=>{t(!0);const u=await E(f.ADVERTISE).all(),{status:d,data:r}=u;d===200?c(r.data):i("/error"),t(!1)}}};function _(){var O;const[a,t]=n.exports.useState(""),[s,c]=n.exports.useState(!1);n.exports.useState("status"),n.exports.useState("asc");const[i,p]=n.exports.useState(!1),{getCompanyMenuOnly:u,loading:d,profile:r,menuData:S}=B(),{getPopups:x,data:m}=J(),{getAdvertise:L,data:g}=K(),{search:P}=H(),C=new URLSearchParams(P).get("menu"),y=new URLSearchParams(P).get("company");n.exports.useState(0),n.exports.useEffect(()=>{x(),L()},[]),n.exports.useEffect(()=>{u({menuId:C,companyId:y})},[]),n.exports.useEffect(()=>{p(!0)},[]);const o=Q({data:S,name:a}),I=l=>{t(l)},A={color:(O=r==null?void 0:r.theme)==null?void 0:O.color,fontFmaily:""};return e($,{children:N(b,{title:"Company Menu",sx:{backgroundColor:"#fdfdfd"},children:[r!==null&&e(W,{profile:r}),(g==null?void 0:g.length)>0&&g.map((l,h)=>{var v;return e(G,{image:`http://52.221.216.231/${f.DOWNLOADADSFILE}/${(v=l[0])==null?void 0:v.id}`})}),e(Y,{title:"Our Menu",style:A}),e(R,{onHandleChange:I,filterName:a}),e(q,{isGridView:s,setIsGridView:c,style:A}),s&&(o==null?void 0:o.length)>0&&(o==null?void 0:o.map((l,h)=>e(w.Fragment,{children:e(T,{isGridView:s,menuItem:l,style:A},h)}))),!s&&(o==null?void 0:o.length)>0&&(o==null?void 0:o.map((l,h)=>e(w.Fragment,{children:e(F,{isGridView:!1,menuItem:l,style:A},h)}))),e(k,{}),i&&(m==null?void 0:m.length)>0&&m.map((l,h)=>{var v;return e(U,{url:`http://52.221.216.231/${f.DOWNLOADPOPUPSFILE}/${(v=l[3])==null?void 0:v.id}`,open:i,onClose:()=>p(!1)},h)})]})})}function Q({data:a,name:t}){return console.log("TABLE DATA",a),a==null||a.map((s,c)=>[s,c]),t&&(a=a.filter(s=>s.name.toLowerCase().indexOf(t.toLowerCase())!==-1)),a}export{_ as default};
